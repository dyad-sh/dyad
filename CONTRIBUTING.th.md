# การมีส่วนร่วม

Dyad ยังเป็นโปรเจกต์ในระยะเริ่มต้นมากๆ ดังนั้นโค้ดเบสจึงมีการเปลี่ยนแปลงอย่างรวดเร็ว

ก่อนที่จะเปิด Pull Request กรุณาเปิด Issue เพื่อหารือกันก่อนว่าการเปลี่ยนแปลงนั้นเหมาะสมกับ Dyad หรือไม่ การรักษาประสบการณ์การใช้งานที่สอดคล้องกันบางครั้งหมายความว่าเราไม่สามารถรวมทุกฟีเจอร์ที่เป็นไปได้ หรือเราต้องพิจารณาการออกแบบในระยะยาวว่าเราต้องการสนับสนุนฟีเจอร์ในด้านนั้นๆ อย่างไร

สำหรับภาพรวมระดับสูงเกี่ยวกับวิธีการทำงานของ Dyad โปรดดูที่ [คู่มือสถาปัตยกรรม](./docs/architecture.md) การทำความเข้าใจสถาปัตยกรรมจะช่วยให้แน่ใจว่าการมีส่วนร่วมของคุณสอดคล้องกับการออกแบบโดยรวมของโปรเจกต์

## การมีส่วนร่วมที่ไม่ใช่แค่โค้ด

สิ่งที่ผมรู้สึกขอบคุณมากๆ คือการมีส่วนร่วมที่ไม่ใช่โค้ด เช่น การรายงานบั๊ก, การเขียนคำขอฟีเจอร์ และการมีส่วนร่วมใน [sub-reddit ของ Dyad](https://www.reddit.com/r/dyadbuilders)

## การพัฒนา

Dyad เป็นแอปพลิเคชัน Electron

**ติดตั้ง Dependencies:**

```sh
npm install
```

**สร้างไดเรกทอรี userData (จำเป็นสำหรับฐานข้อมูล)**

```sh
# Unix/macOS/Linux:
mkdir -p userData

# Windows PowerShell (รันเมื่อโฟลเดอร์ยังไม่มี):
mkdir userData

# Windows Command Prompt (รันเมื่อโฟลเดอร์ยังไม่มี):
md userData
```

**ใช้ Migrations:**

```sh
# สร้างและใช้ database migrations
npm run db:generate
npm run db:push
```

**รันบนเครื่อง:**

```sh
npm start
```

## การตั้งค่า

หากคุณต้องการส่ง Pull Request เราขอแนะนำอย่างยิ่งให้ตั้งค่า pre-commit hooks ซึ่งจะทำการฟอร์แมตและตรวจสอบโค้ดก่อนการ commit ทุกครั้ง นี่เป็นวิธีที่ยอดเยี่ยมในการตรวจจับปัญหาตั้งแต่เนิ่นๆ โดยไม่ต้องรอให้ GitHub Actions ทำงานสำหรับ Pull Request ของคุณ

เพียงแค่รันคำสั่งนี้ครั้งเดียวใน repo ของคุณ:

```sh
npm run init-precommit
```

## การทดสอบ

### Unit tests

```sh
npm test
```

### E2E tests

บิวด์แอปสำหรับการทดสอบ E2E:

```sh
npm run pre:e2e
```

> หมายเหตุ: คุณจะต้องบิวด์แอปใหม่เมื่อมีการเปลี่ยนแปลงโค้ดของแอปเท่านั้น ไม่จำเป็นต้องบิวด์ใหม่หากคุณแค่แก้ไขไฟล์ทดสอบ

รันชุดการทดสอบ E2E ทั้งหมด:

```sh
npm run e2e
```

รันไฟล์ทดสอบที่ต้องการ:

```sh
npm run e2e e2e-tests/context_manage.spec.ts
```

อัปเดต snapshots สำหรับการทดสอบ:

```sh
npm run e2e e2e-tests/context_manage.spec.ts -- --update-snapshots
```